"use strict";function _toConsumableArray(a){return _arrayWithoutHoles(a)||_iterableToArray(a)||_unsupportedIterableToArray(a)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(a,t){var e;if(a)return"string"==typeof a?_arrayLikeToArray(a,t):"Map"===(e="Object"===(e=Object.prototype.toString.call(a).slice(8,-1))&&a.constructor?a.constructor.name:e)||"Set"===e?Array.from(a):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?_arrayLikeToArray(a,t):void 0}function _iterableToArray(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}function _arrayWithoutHoles(a){if(Array.isArray(a))return _arrayLikeToArray(a)}function _arrayLikeToArray(a,t){(null==t||t>a.length)&&(t=a.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=a[e];return r}jQuery(function(o){var a,t="",e="",r="",n="",s="",i="",l="",c={},u="",p="",d="",h=[],y=new URLSearchParams(window.location.search),m=!0,f="",g=!1,_=o(".ajax_row_holder"),v=o(".ajax_row"),b=o(".js-category-filter-select"),A=o(".js-category-filter"),j=o("#all_posts_filter"),x=o("#all-post-search"),C=o("#js-post-order"),S=b.length,w=A.length;function T(){var a;t=v.attr("data-posts-per-page"),e=v.attr("data-posts-type"),r=v.attr("data-pagination-type"),n=v.attr("data-more-classes"),s=v.attr("data-more-label"),i=v.attr("data-prev-text"),l=v.attr("data-next-text"),c={},m=!(f=""),o("button").hasClass("js-category-filter")&&o(".js-category-filter.active").each(function(){var a,t;o(this).hasClass("allCategories")||(a=o(this).attr("data-taxonomy"),t=o(this).attr("data-slug"),c[a]=c[a]&&Array.isArray(c[a])?[].concat(_toConsumableArray(c[a]),[t]):[t])}),o("select").hasClass("js-category-filter-select")&&b.each(function(){var a,t;o(this).val()&&(a=o(this).attr("data-taxonomy"),t=o(this).val(),c[a]=c[a]&&Array.isArray(c[a])?[].concat(_toConsumableArray(c[a]),[t]):[t])}),o.each(c,function(a,t){m?(f+=a+"="+t,m=!1):f+="&"+a+"="+t}),u=x.val(),p=C.val(),d=o(".load_more_holder"),""!==u&&(m?(f+="filter_search="+u,m=!1):f+="&filter_search="+u),""!==f?window.history.pushState(null,null,"?"+f):(a=location.protocol+"//"+location.host+location.pathname,window.history.pushState(null,null,a)),h={action:"loadmore",query:loadmore_params.posts,page:loadmore_params.current_page,posts_per_page:t,post_type:e,pagination_type:r,category:c,search:u,order:p,more_classes:n,more_label:s,prev_text:i,next_text:l}}a=!!y.has("filter_search")&&(x.val(y.get("filter_search")),!0),o(document).on("click","#pagination_holder .load_page",function(a){a.preventDefault(),loadmore_params.current_page=o(this).data("slug"),T();var t=!0;o(this).hasClass("load_more")&&(t=!1),o.ajax({url:loadmore_params.ajaxurl,data:h,type:"POST",beforeSend:function(a){_.css("opacity","0.5")},success:function(a){a&&(d.remove(),!0===t&&v.empty(),v.append(a.html),_.append(a.pagination),_.css("opacity","1"))}}).done(function(){o(document).trigger("AjaxPaginationDone")})}),A.on("click",function(){o(this).hasClass("multiply-false")?(A.removeClass("active"),o(this).addClass("active")):o(this).hasClass("active")?o(this).removeClass("active"):o(this).addClass("active")}),o(".js-clear-filter").on("click",function(){A.removeClass("active"),x.val(""),b.prop("selectedIndex",0)}),C.on("change",function(){j.trigger("submit")}),b.on("change",function(){j.trigger("submit")}),j.on("submit",function(a){a.preventDefault(),loadmore_params.current_page=1,T(),o.ajax({url:loadmore_params.ajaxurl,data:h,type:"POST",beforeSend:function(a){_.css("opacity","0.5")},success:function(a){a&&(d.remove(),v.empty(),""!==a.html?v.append(a.html):v.append('<div class="no-results-found">no results found</div>'),_.append(a.pagination),_.css("opacity","1"))}}).done(function(){o(document).trigger("AjaxFilterDone")})}),b.each(function(a){var t=o(this).attr("data-taxonomy");y.has(t)&&(o(this).val(y.get(t)),g=!0),a===S-1&&g&&j.trigger("submit")}),A.each(function(a){var e,r,t;o(this).hasClass("allCategories")||(t=(e=o(this)).attr("data-taxonomy"),r=e.attr("data-slug"),y.has(t)&&(t=y.get(t).split(","),o.each(t,function(a,t){t===r&&(e.addClass("active"),g=!0)}))),a===w-1&&g&&j.trigger("submit")}),!g&&a&&j.trigger("submit")});
//# sourceMappingURL=load_more_and_filter.js.map
