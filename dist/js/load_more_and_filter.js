"use strict";function _toConsumableArray(a){return _arrayWithoutHoles(a)||_iterableToArray(a)||_unsupportedIterableToArray(a)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(a,t){var e;if(a)return"string"==typeof a?_arrayLikeToArray(a,t):"Map"===(e="Object"===(e=Object.prototype.toString.call(a).slice(8,-1))&&a.constructor?a.constructor.name:e)||"Set"===e?Array.from(a):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?_arrayLikeToArray(a,t):void 0}function _iterableToArray(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}function _arrayWithoutHoles(a){if(Array.isArray(a))return _arrayLikeToArray(a)}function _arrayLikeToArray(a,t){(null==t||t>a.length)&&(t=a.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=a[e];return r}jQuery(function(e){var r=e(".ajax_row"),o=e(".ajax_row_holder"),a="",t="",s="",n="",l="",i="",c="",p={},u="",d="",y="",m=[];function f(){a=r.attr("data-posts-per-page"),t=r.attr("data-posts-type"),s=r.attr("data-pagination-type"),n=r.attr("data-more-classes"),l=r.attr("data-more-label"),i=r.attr("data-prev-text"),c=r.attr("data-next-text"),p={},e("button").hasClass("js-category-filter")&&e(".js-category-filter.active").each(function(){var a,t;e(this).hasClass("allCategories")||(a=e(this).attr("data-taxonomy"),t=e(this).attr("data-slug"),p[a]=p[a]&&Array.isArray(p[a])?[].concat(_toConsumableArray(p[a]),[t]):[t])}),e("select").hasClass("js-category-filter-select")&&e(".js-category-filter-select").each(function(){var a,t;e(this).val()&&(a=e(this).attr("data-taxonomy"),t=e(this).val(),p[a]=p[a]&&Array.isArray(p[a])?[].concat(_toConsumableArray(p[a]),[t]):[t])}),u=e("#all-post-search").val(),d=e("#js-post-order").val(),y=e(".load_more_holder"),m={action:"loadmore",query:loadmore_params.posts,page:loadmore_params.current_page,posts_per_page:a,post_type:t,pagination_type:s,category:p,search:u,order:d,more_classes:n,more_label:l,prev_text:i,next_text:c}}e(document).on("click","#pagination_holder .load_page",function(a){a.preventDefault(),loadmore_params.current_page=e(this).data("slug"),f();var t=!0;e(this).hasClass("load_more")&&(t=!1),e.ajax({url:loadmore_params.ajaxurl,data:m,type:"POST",beforeSend:function(a){o.css("opacity","0.5")},success:function(a){a&&(y.remove(),!0===t&&r.empty(),r.append(a.html),o.append(a.pagination),o.css("opacity","1"))}}).done(function(){e(document).trigger("AjaxPaginationDone")})}),e(".js-category-filter").on("click",function(){e(this).hasClass("multiply-false")?(e(".js-category-filter").removeClass("active"),e(this).addClass("active")):e(this).hasClass("active")?e(this).removeClass("active"):e(this).addClass("active")}),e(".js-clear-filter").on("click",function(){e(".js-category-filter").removeClass("active"),e("#all-post-search").val(""),e(".js-category-filter-select").prop("selectedIndex",0)}),e("#js-post-order").on("change",function(){e("#all_posts_filter").trigger("submit")}),e(".js-category-filter-select").on("change",function(){e("#all_posts_filter").trigger("submit")}),e("#all_posts_filter").on("submit",function(a){a.preventDefault(),loadmore_params.current_page=1,f(),e.ajax({url:loadmore_params.ajaxurl,data:m,type:"POST",beforeSend:function(a){o.css("opacity","0.5")},success:function(a){a&&(y.remove(),r.empty(),""!=a.html?r.append(a.html):r.append('<div class="no-results-found">no results found</div>'),o.append(a.pagination),o.css("opacity","1"))}}).done(function(){e(document).trigger("AjaxFilterDone")})})});
//# sourceMappingURL=load_more_and_filter.js.map
