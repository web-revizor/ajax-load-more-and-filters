"use strict";function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,a){var e;if(t)return"string"==typeof t?_arrayLikeToArray(t,a):"Map"===(e="Object"===(e=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:e)||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?_arrayLikeToArray(t,a):void 0}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var e=0,r=new Array(a);e<a;e++)r[e]=t[e];return r}jQuery(function(o){var s=o(".ajax_row"),e=o(".ajax_row_holder"),t="",a="",n="",l="",i="",c="",u="",p={},d="",y="",f="",h=[];function r(){var e,r;t=s.attr("data-posts-per-page"),a=s.attr("data-posts-type"),n=s.attr("data-pagination-type"),l=s.attr("data-more-classes"),i=s.attr("data-more-label"),c=s.attr("data-prev-text"),u=s.attr("data-next-text"),p={},r=!(e=""),o("button").hasClass("js-category-filter")&&o(".js-category-filter.active").each(function(){var t,a;o(this).hasClass("allCategories")||(t=o(this).attr("data-taxonomy"),a=o(this).attr("data-slug"),p[t]=p[t]&&Array.isArray(p[t])?[].concat(_toConsumableArray(p[t]),[a]):[a])}),o("select").hasClass("js-category-filter-select")&&o(".js-category-filter-select").each(function(){var t,a;o(this).val()&&(t=o(this).attr("data-taxonomy"),a=o(this).val(),p[t]=p[t]&&Array.isArray(p[t])?[].concat(_toConsumableArray(p[t]),[a]):[a])}),o.each(p,function(t,a){r?(e+=t+"="+a,r=!1):e+="&"+t+"="+a}),window.history.pushState(null,null,"?"+e),d=o("#all-post-search").val(),y=o("#js-post-order").val(),f=o(".load_more_holder"),h={action:"loadmore",query:loadmore_params.posts,page:loadmore_params.current_page,posts_per_page:t,post_type:a,pagination_type:n,category:p,search:d,order:y,more_classes:l,more_label:i,prev_text:c,next_text:u}}o(document).on("click","#pagination_holder .load_page",function(t){t.preventDefault(),loadmore_params.current_page=o(this).data("slug"),r();var a=!0;o(this).hasClass("load_more")&&(a=!1),o.ajax({url:loadmore_params.ajaxurl,data:h,type:"POST",beforeSend:function(t){e.css("opacity","0.5")},success:function(t){t&&(f.remove(),!0===a&&s.empty(),s.append(t.html),e.append(t.pagination),e.css("opacity","1"))}}).done(function(){o(document).trigger("AjaxPaginationDone")})}),o(".js-category-filter").on("click",function(){o(this).hasClass("multiply-false")?(o(".js-category-filter").removeClass("active"),o(this).addClass("active")):o(this).hasClass("active")?o(this).removeClass("active"):o(this).addClass("active")}),o(".js-clear-filter").on("click",function(){o(".js-category-filter").removeClass("active"),o("#all-post-search").val(""),o(".js-category-filter-select").prop("selectedIndex",0)}),o("#js-post-order").on("change",function(){o("#all_posts_filter").trigger("submit")}),o(".js-category-filter-select").on("change",function(){o("#all_posts_filter").trigger("submit")}),o("#all_posts_filter").on("submit",function(t){t.preventDefault(),loadmore_params.current_page=1,r(),o.ajax({url:loadmore_params.ajaxurl,data:h,type:"POST",beforeSend:function(t){e.css("opacity","0.5")},success:function(t){t&&(f.remove(),s.empty(),""!=t.html?s.append(t.html):s.append('<div class="no-results-found">no results found</div>'),e.append(t.pagination),e.css("opacity","1"))}}).done(function(){o(document).trigger("AjaxFilterDone")})});var m=new URLSearchParams(window.location.search),g=1;o(".js-category-filter-select").each(function(){var t=o(this).attr("data-taxonomy");g++,m.has(t)&&(o(this).val(m.get(t)),g===o(".js-category-filter-select").length)&&(o("#all_posts_filter").trigger("submit"),g=1)}),o(".js-category-filter").each(function(){var e,r,t;o(this).hasClass("allCategories")||(t=o(this).attr("data-taxonomy"),e=o(this).attr("data-slug"),r=o(this),m.has(t)&&(t=m.get(t).split(","),o.each(t,function(t,a){a===e&&(console.log(r),r.addClass("active"))}))),g===o(".js-category-filter").length&&(o("#all_posts_filter").trigger("submit"),g=1),g++})});
//# sourceMappingURL=load_more_and_filter.js.map
